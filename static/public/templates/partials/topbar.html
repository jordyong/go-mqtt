{{define "topbar"}}
<nav
  id="topbar"
  class="sticky top-0 z-30 border-b border-gray-500 py-4 shadow-md before:absolute before:inset-0 before:-z-10 before:bg-gray-900/90 before:backdrop-blur-md h-min"
  hx-swap-oob="true"
>
  <form
    class="right-0 flex flex-row justify-end"
    hx-post="/mqtt-connect"
    hx-swap="outerHTML"
  >
    <div class="rounded-md bg-gray-300 mx-1 px-3 py-2 text-sm font-medium">
      {{ .ClientName }}
    </div>
    <div class="rounded-md bg-gray-300 mx-1 px-3 py-2 text-sm font-medium">
      {{ .BrokerURL }}
    </div>
    {{ if .IsConnected }}
    <div>
      <button
        id="mqtt-connection-btn"
        type="disconnect"
        class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white"
        hx-post="/mqtt-disconnect"
      >
        Disconnect
      </button>
    </div>
    {{ else }}
    <div class="">
      <button
        id="mqtt-connection-btn"
        type="connect"
        class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white"
      >
        Connect
      </button>
    </div>

    {{ end }}
  </form>
</nav>
{{end}}
